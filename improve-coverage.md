# 提高傳輸距離

:::warning
在調整發射功率時，必須注意不要超過當地法規允許的最大發射功率限制。超過這些限制可能會導致法律問題並干擾其他無線設備。
:::

![438299446_8333322370017205_954000459771269909_n](https://hackmd.io/_uploads/SkN1EAkqR.jpg)

[低功率射頻器材技術規範](https://www.ncc.gov.tw/chinese/files/20071/%e4%bd%8e%e5%8a%9f%e7%8e%87%e5%b0%84%e9%a0%bb%e5%99%a8%e6%9d%90%e6%8a%80%e8%a1%93%e8%a6%8f%e7%af%84%e5%85%a8%e6%96%87%20-1090813v2%20-%20%e5%8a%a0%e7%9b%ae%e9%8c%84.pdf?fbclid=IwY2xjawEfM0BleHRuA2FlbQIxMAABHT3_H4SOar5qiryBPkWhppdOUAweixq_ONI9oU-nz5mOA7e1n3LoqRZ-1w_aem_N1K9hr_1kjFplX_yiu_tlw)

## Meshtastic傳輸距離基礎知識

在深入了解如何提高Meshtastic裝置的傳輸距離前，讓我們先了解一些基本原理。Meshtastic使用LoRa技術在902-928 MHz ISM頻段中運作。這個UHF頻段的無線電波主要以直線傳播，且不易穿透密集障礙物，這是理解傳輸距離限制的關鍵因素。

:::info
目前Meshtastic通訊的最遠記錄是331公里（透過特定設備和優化設置實現）。
:::

## 提高傳輸距離的方法

### 1. 調整發射功率設置
在軟件中調整發射功率設置。大多數Meshtastic裝置使用的芯片允許通過軟件配置發射功率。這可以通過修改設備的固件設置來實現。
- 開啟Licensed Operator
- 調整Transmit Power，注意不同設備有不同的最大發射功率，請詳閱手邊的設備最高發射功率
![image](https://hackmd.io/_uploads/Hka77A1cC.png)

### 2. 天線改進與位置優化
- **使用高增益天線**：替換標準天線為高增益定向或全向天線可以顯著提高傳輸範圍
- **天線位置**：將裝置和天線放置在高處，遠離障礙物
- **天線方向**：如果使用定向天線，確保正確指向目標設備的方向

### 3. 使用外部功率放大器（PA）
對於需要更遠通信距離的應用，可以考慮加裝外部功率放大器來提高發射功率。這種方法需要注意功率放大器的選擇和與現有硬件的兼容性。
![40W-30dB-915MHz-RF-Power-Amplifier-1167605-descriptionImage2](https://hackmd.io/_uploads/SyIZXRJc0.jpg)

### 4. 使用带通滤波器放大器（BPF）
增加帶通濾波器可以減少外部干擾，提高信號質量，從而間接提高有效通訊距離。
![截圖 2024-08-07 下午3.01.10](https://hackmd.io/_uploads/rywpsqec0.png)

### 5. LoRa調制參數優化
調整LoRa的關鍵參數可以顯著影響傳輸距離：
- **頻寬(Bandwidth)**：降低頻寬(例如從250kHz降到125kHz)可以提高靈敏度
- **擴頻因子(Spreading Factor)**：增加SF值(例如從SF9到SF11)可以提高接收靈敏度
- **編碼率(Coding Rate)**：使用更強的編碼率可以提高在噪聲環境中的可靠性

:::success
長距離記錄設置：頻率915MHz，頻寬250，擴頻因子11，編碼率4/8
:::

### 6. 使用Rx Boosted Gain
![截圖 2024-08-07 下午3.04.22](https://hackmd.io/_uploads/SkKt29gqC.png)

Rx Boosted Gain（接收增強增益）是無線通信系統中一個常見的功能，主要用於提高接收器的接收靈敏度，尤其是在信號弱的情況下。這個功能通過增加接收器的前端增益來實現，從而使得微弱的信號也能夠被有效接收和處理。

#### Rx Boosted Gain 的作用
- 提高接收靈敏度：在信號強度較低的環境中，提高接收機的增益可以改善接收質量，從而增強信號的可檢測性。
- 改善通信質量：在距離較遠或者障礙物較多的環境中，使用 Rx Boosted Gain 可以幫助提高數據的接收率和穩定性。
- 擴大覆蓋範圍：增強的接收能力意味著通信設備的有效覆蓋範圍可以擴大。

#### 開啟 Rx Boosted Gain 的注意事項
開啟 Rx Boosted Gain 雖然可以帶來上述好處，但也需要注意以下幾點：

- 增加噪聲：增加接收增益同時也會放大噪聲，這可能導致信號質量下降。因此，需要仔細調整增益，以達到最佳的信噪比。
- 耗電量增加：提高增益通常會增加接收器的功耗，這在電池供電的設備中可能會導致電池續航時間降低。
- 可能的干擾：如果設備處在信號較強的環境中，過高的增益可能會導致接收器飽和，進而產生失真或交叉干擾。
- 動態範圍限制：接收器的動態範圍是指它能夠處理的最弱和最強信號的比率。過高的增益可能會限制接收器處理強信號的能力，影響整體性能。

### 7. 建立中繼節點
為了覆蓋更大的區域，在關鍵位置部署中繼節點可以有效擴展整個網絡的覆蓋範圍。中繼節點接收信號並重新廣播，從而增加通信範圍。

## 適用場景和應用

### 戶外活動與遠征
Meshtastic特別適合用於登山、露營、遠足等戶外活動，可在無蜂窩網絡覆蓋的地區保持通信。

### 應急通訊
在自然災害或其他緊急情況下，當常規通信基礎設施失效時，Meshtastic可以作為備用通信系統使用。

### 分散式社區網絡
可用於建立社區內的低成本、自維護的通信網絡，特別適合偏遠地區或通信基礎設施有限的區域。

## 實用提示與建議

:::info
**最佳實踐**
1. 始終先進行小規模測試，然後再部署更大的網絡
2. 使用應用程序的信號質量指示器(RSSI和SNR)來優化節點位置
3. 考慮地形和障礙物對信號傳播的影響
4. 為長時間運行的節點考慮可持續的電源方案，如太陽能充電
:::

## 排除故障

如果您的Meshtastic裝置傳輸距離不如預期，請嘗試以下步驟：

1. 確認天線連接良好且未損壞
2. 檢查發射功率設置是否適當
3. 驗證兩個裝置使用相同的頻率和調制設置
4. 移除節點附近可能導致干擾的電子設備
5. 測試不同的天線類型和位置

---

透過以上技術和方法的組合，您可以最大限度地提高Meshtastic設備的傳輸距離，建立更強大、更可靠的無線通信網絡。請記住在增加功率或修改設備時遵守當地無線電法規。
